#!/usr/bin/env python3

import argparse
import sys

from roland.core import Roland
from gbulb import GApplicationEventLoopPolicy

import asyncio
asyncio.set_event_loop_policy(GApplicationEventLoopPolicy())


def main():
    parser = argparse.ArgumentParser('roland')
    parser.add_argument(
        '--profile', help='Profile to run under.', default='default')
    options, unknown = parser.parse_known_args(sys.argv)

    roro = Roland()
    roro.set_profile(options.profile)
    asyncio.get_event_loop().run_forever(application=roro)

if __name__ == '__main__':
    main()

